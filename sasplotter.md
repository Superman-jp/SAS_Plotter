# Documentation for the `SASPlotter` package.
  
----------------------------------------------------------------
 
 *SAS plotter* 
  
----------------------------------------------------------------
 
### Version information:
  
- Package: SASPlotter
- Version: 1.3
- Generated: 2024-07-09T14:52:29
- Author(s): SupermanJP (sasplotter@picolabs.jp)
- Maintainer(s): SupermanJP (sasplotter@picolabs.jp)
- License: MIT
- File SHA256: `F*269E5EFAA864BC2332D9B064915EFD200B4B73CF8DE32D8B64F6952206CEF18B` for this version
- Content SHA256: `C*DE8D41ED9BC345E51BD64E6AB7022E2B199158D0F248A47615CE1FDB2A4B74A3` for this version
  
---
 
# The `SASPlotter` package, version: `1.3`;
  
---
 
### SAS plotter --modern graph suite for SAS ###

The data visualization method widely used at present lacks information on the distribution pattern hidden in the raw data, and has a drawback that it is difficult to judge whether the sample distribution assumption, which is the premise of the hypothesis test, is correct.

In recent years, new data visualization methods that overcome such drawbacks have been announced and are already available in open source languages such as R and python. In contrast, the SAS language has made little effort as seen in open source languages.

窶彜AS plotter窶　is modern graph suite for SAS. You can easily create advanced graphs for journals with little knowledge of SAS GTL (Graph Template Language) or sgplot procedures.

the lengthens data format is suitable.

  
---
 
  
---
 
Required SAS Components: 
  - Base SAS Software
  
---
 
 
--------------------------------------------------------------------
 
*SAS package generated by SAS Package Framework, version `20240529`*
 
--------------------------------------------------------------------
 
# The `SASPlotter` package content
The `SASPlotter` package consists of the following content:
1. [`%axislabel()` macros ](#axislabel-macros-1 )
2. [`%boolparmcheck()` macros ](#boolparmcheck-macros-2 )
3. [`%datasetexistcheck()` macros ](#datasetexistcheck-macros-3 )
4. [`%deletestyles()` macros ](#deletestyles-macros-4 )
5. [`%formatexistcheck()` macros ](#formatexistcheck-macros-5 )
6. [`%keywordlistcheck()` macros ](#keywordlistcheck-macros-6 )
7. [`%loadstyles()` macros ](#loadstyles-macros-7 )
8. [`%numericlistcheck()` macros ](#numericlistcheck-macros-8 )
9. [`%numericparmcheck()` macros ](#numericparmcheck-macros-9 )
10. [`%sankeyplotnodeshape()` macros ](#sankeyplotnodeshape-macros-10 )
11. [`%varexistcheck()` macros ](#varexistcheck-macros-11 )
12. [`%varnamecheck()` macros ](#varnamecheck-macros-12 )
13. [`%vartypecheck()` macros ](#vartypecheck-macros-13 )
14. [`%kde2d()` macros ](#kde2d-macros-14 )
15. [`%mirroredhist()` macros ](#mirroredhist-macros-15 )
16. [`%multihistogram()` macros ](#multihistogram-macros-16 )
17. [`%raincloud()` macros ](#raincloud-macros-17 )
18. [`%raincloudpaired()` macros ](#raincloudpaired-macros-18 )
19. [`%ridgeline()` macros ](#ridgeline-macros-19 )
20. [`%sankey()` macros ](#sankey-macros-20 )
  
 
21. [License note](#license)
  
---
 
## `%axislabel()` macros <a name="axislabel-macros-1"></a> ######

*-------------------------------------------;
*set axis label;
*-------------------------------------------;

label parameter is not set , axislable will be set to variable label.

  
---
 
## `%boolparmcheck()` macros <a name="boolparmcheck-macros-2"></a> ######

*-------------------------------------------;
*boolean parameter check;
*-------------------------------------------;

  
---
 
## `%datasetexistcheck()` macros <a name="datasetexistcheck-macros-3"></a> ######

*-------------------------------------------;
* dataset existing check;
*-------------------------------------------;


  
---
 
## `%deletestyles()` macros <a name="deletestyles-macros-4"></a> ######

*-------------------------------------------;
*Color Palette for SAS
*color scheme and color code list;
*-------------------------------------------;

delete the definitions of color palette.

https://picolabs.jp(japanese)
https://superman-jp.github.io/SAS_Plotter/index.html

  
---
 
## `%formatexistcheck()` macros <a name="formatexistcheck-macros-5"></a> ######

*-------------------------------------------;
*format exist check
*-------------------------------------------;

check existence of format in work.formats catalog.

  
---
 
## `%keywordlistcheck()` macros <a name="keywordlistcheck-macros-6"></a> ######

*-------------------------------------------;
*keyword list check;
*-------------------------------------------;

the definitions of color palette.

https://picolabs.jp(japanese)
https://superman-jp.github.io/SAS_Plotter/index.html

  
---
 
## `%loadstyles()` macros <a name="loadstyles-macros-7"></a> ######

*-------------------------------------------;
*Color Palette for SAS
*color scheme and color code list;
*-------------------------------------------;

the definitions of color palette.

https://picolabs.jp(japanese)
https://superman-jp.github.io/SAS_Plotter/index.html

  
---
 
## `%numericlistcheck()` macros <a name="numericlistcheck-macros-8"></a> ######

*-------------------------------------------;
*numeric list (for tickvalue) check;
*-------------------------------------------;

  
---
 
## `%numericparmcheck()` macros <a name="numericparmcheck-macros-9"></a> ######

*-------------------------------------------;
*Numeric parameter check;
*-------------------------------------------;

if the parameter is allowed integer only,
set  the integer parameter is set to TRUE.

if allowance range of numeric parameter, set min and max parameter. 

  
---
 
## `%sankeyplotnodeshape()` macros <a name="sankeyplotnodeshape-macros-10"></a> ######


*-------------------------------;
* helper macros for sankey macro;
*-------------------------------;

generate node shapes.

  
---
 
## `%varexistcheck()` macros <a name="varexistcheck-macros-11"></a> ######

*-------------------------------------------;
*variable exist check;
*-------------------------------------------;

  
---
 
## `%varnamecheck()` macros <a name="varnamecheck-macros-12"></a> ######

*-------------------------------------------;
*variable name check;
*-------------------------------------------;

variable which name is same as parameter name is not allowed.


  
---
 
## `%vartypecheck()` macros <a name="vartypecheck-macros-13"></a> ######

*-------------------------------------------;
*VarTypeCheck;
*-------------------------------------------;

variable type(numeric or string) check

  
---
 
## `%kde2d()` macros <a name="kde2d-macros-14"></a> ######

*--------------------------------------------------------;
*2D-KDE macro;
*--------------------------------------------------------;

Macro for two dimensional kernel density estimation (2D-KDE) plot using SAS GRAPH.

2D-KDE will show as contour plot with marginal KDE curve

*--------------------------------------------------------;
*syntax;
*--------------------------------------------------------;
%macro kde2d(
	data=,
	x=,
	y=,
	group=None,
	xlabel=x,
	ylabel=y,
	univar_grid=401,
	bw_method=sjpi,
	bw_adjust=1,
	univar_style=line,
	bivar_grid=60,
	bivar_nlevel=10,
	bivar_style=line,
	thresh=0,
	legend=true,
    legendtitle=,
	scatter=false,
	rug=false,
	palette=sns,
	title=,
	footnote=,
	deletedata=true

);
	
caution!
group name should not be include "$". 
This character is the delimiter for this macro.

the detail of syntax and output example is available at official page

https://picolabs.jp(japanese)
https://superman-jp.github.io/SAS_Plotter/index.html

  
---
 
## `%mirroredhist()` macros <a name="mirroredhist-macros-15"></a> ######

*--------------------------------------------------------;
*Mirrored histogram macro;
*--------------------------------------------------------;

Macro for Mirrored histogram using SAS GRAPH.

Mirrored histogram shows the distribution of response variable two groups. 
Histogram of the group which level is 2 will be inverted.

*--------------------------------------------------------;
*syntax;
*--------------------------------------------------------;
%macro MirroredHist(
	data =,
	group =,
	x =,
	y =,
	xticks = None,
	yticks = None,
	xaxistype = discrete,
	xlabel = x,
	ylabel = y,
	ytickfmt = 09.9,
	orient = v,
	legend = true,
	barwidth = 1,
	outline = true,
	palette = sns,
	title =,
	footnote=,
	deletedata = true
);
	
the detail of syntax and output example is available at official page

https://picolabs.jp(japanese)
https://superman-jp.github.io/SAS_Plotter/index.html

  
---
 
## `%multihistogram()` macros <a name="multihistogram-macros-16"></a> ######

*--------------------------------------------------------;
*multihistogram macro;
*--------------------------------------------------------;

To be more precise, it is called alluvial Diagram.

A Sankey diagram is a visualization used to depict a flow
from one domain of values to another domain. 
Sankey graphs is useful for showing flow and relationships
among multiple categories.

In pharmacoepidemiology study, this diagram is used for 
changes of the state of a patient over time, such as 
medication switching, disease stage progression, or 
movement through treatment pathways.

in this macro, statistics display and node focus are available.

*--------------------------------------------------------;
*syntax;
*--------------------------------------------------------;
%multihistogram(
	data=,
	category=,
	pair=none,
	level=,
	levelfmt=#,
	response=,
	cattitle=#,
	leveltitle=#,
	pairtitle=#,
	responsetxt=false,
	orient=v,
	pairsplit=false,
	legend=true,
	palette=sns,
	title=,
	footnote=,
	deletedata=true
);

the detail of syntax and output example is available at official page

https://picolabs.jp(japanese)
https://superman-jp.github.io/SAS_Plotter/index.html

  
---
 
## `%raincloud()` macros <a name="raincloud-macros-17"></a> ######

*--------------------------------------------------------;
*raincloud plot macro;
*--------------------------------------------------------;

Raincloud plot is contained density plot (half-violin plot) , box plot and strip plot.

density plot displays distribution estimated by KDE (kernel density estimation) of input data.

box plot displays descriptive statistics (mean, q1, q2, q3 outlier).

strip plot is jittered scatterplot and displays individual data.

*--------------------------------------------------------;
*syntax;
*--------------------------------------------------------;
%macro RainCloud(
		 data=,
		 x=,
		 y=,
		 group=None,
		 yticks=None, 
		 xlabel=x,
		 ylabel=y,
		 cat_iv=2.5,
		 element_iv=0.02,
		 scale=area,
		 trim=True,
		 connect=false,
		 gridsize=401,
		 bw_method=sjpi,
		 bw_adjust=1,
		 orient=v, 
		 legend=false,
		 legendtitle=#,
		 jitterwidth=0.1,
		 outlinewidth=1,
		 palette=sns,
		 title=,
		 footnote=,
		 deletedata=true);
	

the detail of syntax and output example is available at official page

https://picolabs.jp(japanese)
https://superman-jp.github.io/SAS_Plotter/index.html

  
---
 
## `%raincloudpaired()` macros <a name="raincloudpaired-macros-18"></a> ######

*--------------------------------------------------------;
*raincloud plot (paired) macro;
*--------------------------------------------------------;

this macro is useful for display raincloud plot of repeated measure study. 
number of replicate should be two.

the density plot of the second replicate is flipped horizontal.

spaghetti plot (individual tracings for each subject ) can be overlaid on the raincloud plot.


*--------------------------------------------------------;
*syntax;
*--------------------------------------------------------;
%macro RainCloudPaired(
		 data=,
		 x=,
		 y=,
		 repeat=,
		 subject=,
		 group=None,
		 yticks=, 
		 ylabel=y,
		 cat_iv=1.6,
		 element_iv=0.4,
		 connect=False,
		 spaghetti=True,
		 scale=area,
		 trim=True,
		 gridsize=401,
		 bw_method=sjpi,
		 bw_adjust=1,
		 orient=v, 
		 legend=false,
		 jitterwidth=0.05,
		 outlinewidth=1,
		 palette=sns,
		 title=,
		 footnote=,
		 deletedata=true);
	

the detail of syntax and output example is available at official page

https://picolabs.jp(japanese)
https://superman-jp.github.io/SAS_Plotter/index.html

  
---
 
## `%ridgeline()` macros <a name="ridgeline-macros-19"></a> ######

*--------------------------------------------------------;
*ridgeline plot macro;
*--------------------------------------------------------;

Ridgeline plot shows the distribution of response variable 
each groups. The distribution is estimated by KDE 
(Kernel Density Estimation) using proc kde.

rugplot and several descriptive statistics (mean, q1, q2, q3) 
can be overlaid on the ridgeline plot.

*--------------------------------------------------------;
*syntax;
*--------------------------------------------------------;
%macro ridgeline(
	data=,
	x=,
	y=,
	group=None,
	xlabel=x,
	ylabel=y,
	yticks=,
	cat_iv = 1.2,
	gridsize = 401,
	bw_method = sjpi,
	bw_adjust = 1,
	
	quartile=False,
	mean=False,	
	
	legend = False,
	grouplegendtitle=group,
	
	rug = False,
	ruglength = 2,
	
	fillstyle=None,
	qgradient=1,
	palette=sns,
	title=,
	footnote=,
	deletedata=true);

the detail of syntax and output example is available at official page

https://picolabs.jp(japanese)
https://superman-jp.github.io/SAS_Plotter/index.html

  
---
 
## `%sankey()` macros <a name="sankey-macros-20"></a> ######

*--------------------------------------------------------;
*sankey diagram macro;
*--------------------------------------------------------;

To be more precise, it is called alluvial Diagram.

A Sankey diagram is a visualization used to depict a flow
from one domain of values to another domain. 
Sankey graphs is useful for showing flow and relationships
among multiple categories.

In pharmacoepidemiology study, this diagram is used for 
changes of the state of a patient over time, such as 
medication switching, disease stage progression, or 
movement through treatment pathways.

in this macro, statistics display and node focus are available.

*--------------------------------------------------------;
*syntax;
*--------------------------------------------------------;
%macro sankey(
	data=,
	
	domain=,
	domainfmt=,
	domaintextattrs=(color=black size=11),
	gap=5,
	
	nodefmt=auto,
	nodewidth=0.2,
	nodeattrs=auto,
	nodename=true,
	nodetextattrs=(color=black size=9),
	
	linktext=true,
	linktext_offset=0.05,
	linkattrs=auto,
	linktextattrs=(color=black size=8),
	smooth=0.1,
	
	focus=None,
	stat=both,
	unit=,
	reverse=false,
	endFollowup=None,
	
	legend=false,
	palette=sns,
	title=.
	footnote=,
	deletedata=true

	);
	

the detail of syntax and output example is available at official page

https://picolabs.jp(japanese)
https://superman-jp.github.io/SAS_Plotter/index.html

  
---
 
  
---
 
# License <a name="license"></a> ######
 
 
  Copyright (c) since 2024 SupermanJP (sasplotter@picolabs.jp)
                                                                                
  Permission is hereby granted, free of charge, to any person obtaining a copy  
  of this software and associated documentation files (the "Software"), to deal 
  in the Software without restriction, including without limitation the rights  
  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell     
  copies of the Software, and to permit persons to whom the Software is         
  furnished to do so, subject to the following conditions:                      
                                                                                
  The above copyright notice and this permission notice shall be included       
  in all copies or substantial portions of the Software.                        
                                                                                
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR    
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,      
  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE   
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER        
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, 
  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE 
  SOFTWARE.                                                                     
 
  
---
 
